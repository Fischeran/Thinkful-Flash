{"ast":null,"code":"var _jsxFileName = \"/Users/jethrxl/coding-projects/react-projects/flash/Thinkful-Flash/src/Layout/Home/Deck/EditDeck/EditDeck.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { readDeck, updateDeck } from \"../../../../utils/api\";\nimport { useParams, Link, useHistory } from \"react-router-dom\";\nimport DeckForm from \"../DeckForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditDeck() {\n  _s();\n\n  const initialValue = {\n    name: \"\",\n    description: \"\",\n    cards: []\n  };\n  const {\n    deckId\n  } = useParams();\n  const [deck, setDeck] = useState(initialValue);\n  const abortController = new AbortController();\n  const initialState = {\n    name: \"\",\n    description: \"\"\n  };\n  const [formData, setFormData] = useState({ ...initialState\n  });\n  const initialStateRender = {\n    name: `${deck.name}`,\n    description: `${deck.description}`\n  };\n  useEffect(() => {\n    setDeck(initialValue);\n\n    async function currentDeck(id) {\n      try {\n        const current = await readDeck(id, abortController.signal);\n        setDeck({ ...current\n        });\n        setFormData({ ...current\n        });\n      } catch (error) {\n        console.log(error);\n      }\n\n      ;\n    }\n\n    ; //getting and returning the deck fine but having issues setting state \n\n    currentDeck(deckId);\n    return () => abortController.abort();\n  }, [deckId]); //formData Stuff\n\n  function changeHandler(_ref) {\n    let {\n      target\n    } = _ref;\n    setFormData({ ...formData,\n      [target.name]: target.value\n    });\n  }\n\n  const history = useHistory();\n\n  async function submitHandler(event) {\n    console.log(deck);\n    event.preventDefault();\n    const updatedDeck = { ...deck,\n      name: formData.name,\n      description: formData.description\n    };\n    await updateDeck(updatedDeck, abortController.signal);\n    history.go(0);\n  } //may have to put this into a useEffect \n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      \"aria-label\": \"breadcrumb\",\n      children: /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"breadcrumb\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"breadcrumb-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"breadcrumb-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/decks/${deckId}`,\n            children: deck.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"breadcrumb-item\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Edit Deck\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Deck\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DeckForm, {\n      deckId: deckId,\n      submitHandler: submitHandler,\n      formData: formData,\n      changeHandler: changeHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EditDeck, \"Ocd3gB9el7WyFnRqUYTUNmAeZ6Y=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = EditDeck;\nexport default EditDeck;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditDeck\");","map":{"version":3,"names":["React","useEffect","useState","readDeck","updateDeck","useParams","Link","useHistory","DeckForm","EditDeck","initialValue","name","description","cards","deckId","deck","setDeck","abortController","AbortController","initialState","formData","setFormData","initialStateRender","currentDeck","id","current","signal","error","console","log","abort","changeHandler","target","value","history","submitHandler","event","preventDefault","updatedDeck","go"],"sources":["/Users/jethrxl/coding-projects/react-projects/flash/Thinkful-Flash/src/Layout/Home/Deck/EditDeck/EditDeck.js"],"sourcesContent":["import React, { useEffect , useState} from \"react\";\r\nimport { readDeck , updateDeck } from \"../../../../utils/api\";\r\nimport { useParams , Link , useHistory } from \"react-router-dom\";\r\nimport DeckForm from \"../DeckForm\";\r\n\r\nfunction EditDeck() {\r\n\r\n    const initialValue = {\r\n        name: \"\",\r\n        description: \"\",\r\n        cards: []\r\n    }\r\n\r\n    const { deckId } = useParams();\r\n    const [deck, setDeck] = useState(initialValue);\r\n    const abortController = new AbortController();\r\n    \r\n    const initialState = {\r\n        name: \"\",\r\n        description: \"\"\r\n    }\r\n\r\n    const [formData, setFormData] = useState({...initialState});\r\n\r\n    const initialStateRender = {\r\n            name: `${deck.name}`,\r\n            description: `${deck.description}`,\r\n           };\r\n\r\n    useEffect(() => {\r\n        setDeck(initialValue);\r\n            \r\n        async function currentDeck(id) {\r\n            try{\r\n            const current = await readDeck(id, abortController.signal);\r\n            setDeck({...current})\r\n            setFormData({...current})\r\n\r\n            \r\n            } catch(error) {console.log(error)};\r\n        };\r\n    \r\n        //getting and returning the deck fine but having issues setting state \r\n        \r\n        currentDeck(deckId);\r\n        \r\n        return () => abortController.abort()\r\n    \r\n        }, [deckId]);\r\n\r\n        //formData Stuff\r\n\r\n        \r\n        \r\n        \r\n           \r\n           \r\n        \r\n           function changeHandler({ target }) {\r\n            setFormData({\r\n                ...formData,\r\n                [target.name]: target.value,\r\n            })\r\n        \r\n           }\r\n\r\n           const history = useHistory();\r\n\r\n           async function submitHandler(event) {\r\n            console.log(deck)\r\n            event.preventDefault();\r\n           \r\n            const updatedDeck = {...deck, name: formData.name, description: formData.description}\r\n           \r\n            await updateDeck(updatedDeck, abortController.signal);\r\n            history.go(0);\r\n\r\n           }\r\n\r\n           //may have to put this into a useEffect \r\n           \r\n\r\n    return (\r\n        <div>\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n              <li className=\"breadcrumb-item\"><Link to=\"/\">Home</Link></li>\r\n              <li className=\"breadcrumb-item\"><Link to={`/decks/${deckId}`}>{deck.name}</Link></li>\r\n              <li className=\"breadcrumb-item\"><p>Edit Deck</p></li>\r\n              </ol>\r\n            </nav>\r\n            <h2>Edit Deck</h2>\r\n            <DeckForm deckId={deckId} submitHandler={submitHandler} formData={formData} changeHandler={changeHandler} />\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\n\r\nexport default EditDeck"],"mappings":"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"},"metadata":{},"sourceType":"module"}