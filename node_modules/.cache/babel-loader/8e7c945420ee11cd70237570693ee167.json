{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alnfi\\\\coding projects\\\\Thinkful-Flash\\\\src\\\\Layout\\\\Home\\\\Deck\\\\Deck.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { readDeck, deleteDeck, deleteCard } from \"../../../utils/api\";\nimport { useParams, useRouteMatch, Link, useHistory } from \"react-router-dom\";\nimport CardList from \"./CardList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Deck() {\n  _s();\n\n  const initialValue = {\n    name: \"\",\n    description: \"\",\n    cards: []\n  };\n  const {\n    deckId\n  } = useParams();\n  const [deck, setDeck] = useState(initialValue);\n  const abortController = new AbortController();\n  const {\n    path,\n    url\n  } = useRouteMatch(); //useEffect here is grabbing the current deck using browser parameters so we can render the cards below using deck state\n\n  useEffect(() => {\n    setDeck(initialValue);\n\n    async function currentDeck(id) {\n      try {\n        const current = await readDeck(id, abortController.signal);\n        setDeck({ ...current\n        });\n      } catch (error) {\n        console.log(error);\n      }\n\n      ;\n    }\n\n    ; //getting and returning the deck fine but having issues setting state \n\n    currentDeck(deckId);\n    return () => abortController.abort();\n  }, [deckId]);\n  const history = useHistory();\n\n  async function deleteDeckHandler(id, signal) {\n    if (window.confirm(\"Delete this deck?\\nYou will not be able to recover it.\")) {\n      try {\n        await deleteDeck(id, signal);\n        history.push(\"/\");\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n\n  async function deleteCardHandler(id, signal) {\n    if (window.confirm(\"Delete this card?\\nYou will not be able to recover it.\")) {\n      try {\n        await deleteCard(id, signal);\n        history.go(0);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  } //now HOPEFULLY we have grabbed the cards the readDecks function should be returning an object that looks like this \n\n  /* \r\n  {name: 'Note Taking', description: 'need to make sure the delete handler in useDecks rerenders the home page ', id: 1, cards: Array(0)}\r\n  */\n  //we will be using nested routes on this specific componenet\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      \"aria-label\": \"breadcrumb\",\n      children: /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"breadcrumb\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"breadcrumb-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 51\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"breadcrumb-item\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Create Deck\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 51\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: deck.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: deck.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `${url}/edit`,\n          className: \"btn btn-secondary\",\n          children: \"edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `${url}/study`,\n          className: \"btn btn-primary\",\n          children: \"study\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `${url}/cards/new`,\n          className: \"btn btn-primary\",\n          children: \"Add Cards\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => deleteDeckHandler(deckId, abortController.signal),\n          className: \"btn btn-danger\",\n          children: \"Delete icon goes here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Cards\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CardList, {\n        deck: deck,\n        deleteCardHandler: deleteCardHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Deck, \"o/Ui+tAlbtn8aLwlQCngYcB1Ry0=\", false, function () {\n  return [useParams, useRouteMatch, useHistory];\n});\n\n_c = Deck;\nexport default Deck;\n\nvar _c;\n\n$RefreshReg$(_c, \"Deck\");","map":{"version":3,"names":["React","useEffect","useState","readDeck","deleteDeck","deleteCard","useParams","useRouteMatch","Link","useHistory","CardList","Deck","initialValue","name","description","cards","deckId","deck","setDeck","abortController","AbortController","path","url","currentDeck","id","current","signal","error","console","log","abort","history","deleteDeckHandler","window","confirm","push","deleteCardHandler","go"],"sources":["C:/Users/alnfi/coding projects/Thinkful-Flash/src/Layout/Home/Deck/Deck.js"],"sourcesContent":["import React, { useEffect , useState} from \"react\";\r\nimport { readDeck , deleteDeck, deleteCard } from \"../../../utils/api\";\r\nimport { useParams , useRouteMatch , Link , useHistory} from \"react-router-dom\";\r\nimport CardList from \"./CardList\";\r\n\r\n\r\n\r\nfunction Deck() {\r\n\r\n    const initialValue = {\r\n        name: \"\",\r\n        description: \"\",\r\n        cards: []\r\n    }\r\n\r\n    const { deckId } = useParams();\r\n    const [deck, setDeck] = useState(initialValue);\r\n    const abortController = new AbortController();\r\n    const { path, url } = useRouteMatch();\r\n\r\n    //useEffect here is grabbing the current deck using browser parameters so we can render the cards below using deck state\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n    setDeck(initialValue);\r\n        \r\n    async function currentDeck(id) {\r\n        try{\r\n        const current = await readDeck(id, abortController.signal);\r\n        setDeck({...current})\r\n        \r\n        } catch(error) {console.log(error)};\r\n    };\r\n\r\n    //getting and returning the deck fine but having issues setting state \r\n    \r\n    currentDeck(deckId);\r\n    \r\n    return () => abortController.abort()\r\n\r\n    }, [deckId])\r\n\r\n    const history = useHistory();\r\n\r\n    async function deleteDeckHandler(id, signal) {\r\n        if (window.confirm(\"Delete this deck?\\nYou will not be able to recover it.\")) {\r\n           try {\r\n            \r\n            await deleteDeck(id, signal);\r\n            history.push(\"/\")\r\n          } catch (error) {console.log(error)}\r\n          }\r\n        }\r\n\r\n    async function deleteCardHandler(id, signal) {\r\n        if (window.confirm(\"Delete this card?\\nYou will not be able to recover it.\")) {\r\n            try {\r\n             \r\n             await deleteCard(id, signal);\r\n             history.go(0);\r\n           } catch (error) {console.log(error)}\r\n           }\r\n         }\r\n    \r\n    \r\n\r\n    //now HOPEFULLY we have grabbed the cards the readDecks function should be returning an object that looks like this \r\n\r\n    /* \r\n    {name: 'Note Taking', description: 'need to make sure the delete handler in useDecks rerenders the home page ', id: 1, cards: Array(0)}\r\n    */\r\n\r\n    //we will be using nested routes on this specific componenet\r\n\r\n    return (\r\n        <div>\r\n            <nav aria-label=\"breadcrumb\">\r\n                <ol className=\"breadcrumb\">\r\n                  <li className=\"breadcrumb-item\"><Link to=\"/\">Home</Link></li>\r\n                  <li className=\"breadcrumb-item\"><p>Create Deck</p></li>\r\n                </ol>\r\n            </nav>\r\n\r\n            <div>\r\n                <h4>{deck.name}</h4>\r\n                <p>{deck.description}</p>\r\n                <div>\r\n                    <Link to={`${url}/edit`} className=\"btn btn-secondary\">edit</Link>\r\n                    <Link to={`${url}/study`} className=\"btn btn-primary\">study</Link>\r\n                    <Link to={`${url}/cards/new`} className=\"btn btn-primary\">Add Cards</Link>\r\n                    <button type=\"button\" onClick={() => deleteDeckHandler(deckId, abortController.signal)} className=\"btn btn-danger\">Delete icon goes here</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <h2>Cards</h2>\r\n                <CardList deck={deck} deleteCardHandler={deleteCardHandler} />\r\n            </div>\r\n           \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Deck"],"mappings":"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"},"metadata":{},"sourceType":"module"}