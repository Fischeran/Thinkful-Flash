{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alnfi\\\\coding projects\\\\Thinkful-Flash\\\\src\\\\Layout\\\\Home\\\\Deck\\\\AddCard\\\\AddCard.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useParams, Link, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { readDeck, createCard } from \"../../../../utils/api\";\nimport CardForm from \"../CardForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddCard() {\n  _s();\n\n  const abortController = new AbortController();\n  const initialValue = {\n    name: \"\",\n    description: \"\"\n  };\n  const [deck, setDeck] = useState(initialValue);\n  const {\n    deckId\n  } = useParams();\n  useEffect(() => {\n    setDeck(initialValue);\n\n    async function currentDeck(id) {\n      try {\n        const current = await readDeck(id, abortController.signal);\n        setDeck({ ...current\n        });\n      } catch (error) {\n        console.log(error);\n      }\n\n      ;\n    }\n\n    ;\n    currentDeck(deckId);\n    return () => abortController.abort();\n  }, [deckId]); //we have the deck stored in deck variable \n\n  const initialState = {\n    front: \"\",\n    back: \"\"\n  };\n  const [formData, setFormData] = useState({ ...initialState\n  });\n  const history = useHistory();\n\n  function changeHandler(_ref) {\n    let {\n      target\n    } = _ref;\n    setFormData({ ...formData,\n      [target.name]: target.value\n    });\n  }\n\n  async function submitHandler(event) {\n    event.preventDefault();\n    await createCard(deckId, formData, abortController.signal);\n    history.go(0);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      \"aria-label\": \"breadcrumb\",\n      children: /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"breadcrumb\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"breadcrumb-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"breadcrumb-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/decks/${deckId}`,\n            children: deck.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"breadcrumb-item\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Add card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: `Add Card`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardForm, {\n      submitHandler: submitHandler,\n      formData: formData,\n      changeHandler: changeHandler,\n      deckId: deckId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddCard, \"Xn6vvaOnFqNQQpAN0mbpLzDzxfo=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = AddCard;\nexport default AddCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddCard\");","map":{"version":3,"names":["React","useParams","Link","useHistory","useEffect","useState","readDeck","createCard","CardForm","AddCard","abortController","AbortController","initialValue","name","description","deck","setDeck","deckId","currentDeck","id","current","signal","error","console","log","abort","initialState","front","back","formData","setFormData","history","changeHandler","target","value","submitHandler","event","preventDefault","go"],"sources":["C:/Users/alnfi/coding projects/Thinkful-Flash/src/Layout/Home/Deck/AddCard/AddCard.js"],"sourcesContent":["import React from \"react\";\r\nimport { useParams , Link , useHistory} from \"react-router-dom\";\r\nimport { useEffect , useState } from \"react\";\r\nimport { readDeck , createCard } from \"../../../../utils/api\";\r\nimport CardForm from \"../CardForm\";\r\n\r\n\r\nfunction AddCard() {\r\n    \r\n    const abortController = new AbortController();\r\n\r\n    const initialValue = {\r\n        name: \"\",\r\n        description: \"\"\r\n    }\r\n\r\n    const [deck, setDeck] = useState(initialValue);\r\n    const { deckId } = useParams();\r\n\r\n    useEffect(() => {\r\n        setDeck(initialValue);\r\n            \r\n        async function currentDeck(id) {\r\n            try{\r\n            const current = await readDeck(id, abortController.signal);\r\n            setDeck({...current})\r\n            \r\n            } catch(error) {console.log(error)};\r\n        };\r\n    \r\n        \r\n        \r\n        currentDeck(deckId);\r\n        \r\n        return () => abortController.abort()\r\n    \r\n        }, [deckId])\r\n\r\n    //we have the deck stored in deck variable \r\n\r\n    const initialState = {\r\n        front: \"\",\r\n        back: \"\",\r\n       };\r\n    \r\n       const [formData, setFormData] = useState({...initialState});\r\n       const history = useHistory()\r\n    \r\n       function changeHandler({ target }) {\r\n        setFormData({\r\n            ...formData,\r\n            [target.name]: target.value,\r\n        })\r\n    \r\n       }\r\n\r\n       async function submitHandler(event) {\r\n        event.preventDefault(); \r\n        await createCard(deckId, formData, abortController.signal)\r\n        history.go(0);\r\n       }\r\n\r\n    return (\r\n        <div>\r\n            <nav aria-label=\"breadcrumb\">\r\n                <ol className=\"breadcrumb\">\r\n                    <li className=\"breadcrumb-item\"><Link to=\"/\">Home</Link></li>\r\n                    <li className=\"breadcrumb-item\"><Link to={`/decks/${deckId}`}>{deck.name}</Link></li>\r\n                    <li className=\"breadcrumb-item\"><p>Add card</p></li>\r\n                </ol>\r\n            </nav>\r\n            <h2>{`Add Card`}</h2>\r\n            <CardForm submitHandler={submitHandler} formData={formData} changeHandler={changeHandler} deckId={deckId} />\r\n        </div>\r\n    )\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default AddCard\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}