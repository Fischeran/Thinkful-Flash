{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alnfi\\\\coding projects\\\\Thinkful-Flash\\\\src\\\\Layout\\\\Home\\\\Study\\\\Study.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { readDeck } from \"../../../utils/api\";\nimport { useParams, Link, useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Study() {\n  _s();\n\n  const history = useHistory();\n  const initialValue = {\n    name: \"\",\n    description: \"\",\n    cards: [{\n      front: \"\",\n      back: \"\"\n    }]\n  };\n  const {\n    deckId\n  } = useParams();\n  const [deck, setDeck] = useState(initialValue);\n  const abortController = new AbortController();\n  useEffect(() => {\n    setDeck(initialValue);\n\n    async function currentDeck(id) {\n      try {\n        const current = await readDeck(id, abortController.signal);\n        setDeck({ ...current\n        });\n      } catch (error) {\n        console.log(error);\n      }\n\n      ;\n    }\n\n    ; //getting and returning the deck fine but having issues setting state \n\n    currentDeck(deckId);\n    return () => abortController.abort();\n  }, [deckId]);\n  const [cardIndex, setCardIndex] = useState(0);\n  const [frontOrBack, setFrontOrBack] = useState(false);\n  const {\n    cards\n  } = deck;\n  let currentCard = cards[cardIndex];\n\n  function nextHandler() {\n    if (cardIndex + 1 === cards.length) {\n      window.confirm(\"Restart Cards?\") ? history.go(0) : history.push(\"/\");\n    } else {\n      setCardIndex(cardIndex => cardIndex + 1);\n      setFrontOrBack(current => !current);\n    }\n  }\n\n  if (cards.length <= 2) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        \"aria-label\": \"breadcrumb\",\n        children: /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"breadcrumb\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"breadcrumb-item\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"breadcrumb-item\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/decks/${deckId}`,\n              children: deck.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"breadcrumb-item\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Study\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Not Enough cards.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"You need at least 3 cards to study. There are \", cards.length, \" in this deck\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/decks/${deckId}/cards/new`,\n        className: \"btn btn-primary\",\n        children: \"Add Cards\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        \"aria-label\": \"breadcrumb\",\n        children: /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"breadcrumb\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"breadcrumb-item\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"breadcrumb-item\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/decks/${deckId}`,\n              children: deck.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"breadcrumb-item\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Study\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: `Study: ${deck.name}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: `Card ${cardIndex + 1} of ${cards.length}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: !frontOrBack ? /*#__PURE__*/_jsxDEV(\"p\", {\n              children: currentCard.front\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 42\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: currentCard.back\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 71\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary\",\n              onClick: () => setFrontOrBack(current => !current),\n              children: \"Flip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: frontOrBack ? /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: nextHandler,\n                children: \"Next\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 45\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 135\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(Study, \"E45+ND9fFQqUhz2MOAo/oMNbflw=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = Study;\nexport default Study;\n\nvar _c;\n\n$RefreshReg$(_c, \"Study\");","map":{"version":3,"names":["React","useEffect","useState","readDeck","useParams","Link","useHistory","Study","history","initialValue","name","description","cards","front","back","deckId","deck","setDeck","abortController","AbortController","currentDeck","id","current","signal","error","console","log","abort","cardIndex","setCardIndex","frontOrBack","setFrontOrBack","currentCard","nextHandler","length","window","confirm","go","push"],"sources":["C:/Users/alnfi/coding projects/Thinkful-Flash/src/Layout/Home/Study/Study.js"],"sourcesContent":["import React, { useEffect , useState} from \"react\";\r\nimport { readDeck } from \"../../../utils/api\";\r\nimport { useParams , Link , useHistory} from \"react-router-dom\";\r\n\r\n\r\n\r\nfunction Study() {\r\n    const history = useHistory()\r\n\r\n    const initialValue = {\r\n        name: \"\",\r\n        description: \"\",\r\n        cards: [{front: \"\", back: \"\"}]\r\n    }\r\n\r\n    const { deckId } = useParams();\r\n    const [deck, setDeck] = useState(initialValue);\r\n    const abortController = new AbortController();\r\n\r\n    useEffect(() => {\r\n        setDeck(initialValue);\r\n            \r\n        async function currentDeck(id) {\r\n            try{\r\n            const current = await readDeck(id, abortController.signal);\r\n            setDeck({...current})\r\n            \r\n            } catch(error) {console.log(error)};\r\n        };\r\n    \r\n        //getting and returning the deck fine but having issues setting state \r\n        \r\n        currentDeck(deckId);\r\n        \r\n        return () => abortController.abort()\r\n    \r\n        }, [deckId]);\r\n\r\n    const [cardIndex, setCardIndex] = useState(0);\r\n    const [ frontOrBack, setFrontOrBack ] = useState(false);\r\n        \r\n       \r\n    const { cards } = deck;\r\n    \r\n    let currentCard = cards[cardIndex];\r\n    \r\n    function nextHandler() {\r\n        if ((cardIndex + 1) === cards.length) {\r\n            window.confirm(\"Restart Cards?\") ? history.go(0) : history.push(\"/\");\r\n        } else {\r\n        setCardIndex((cardIndex)  => cardIndex + 1); \r\n        setFrontOrBack((current) => !current);}\r\n    }\r\n\r\n\r\n    if (cards.length <= 2) {\r\n\r\n        return (\r\n            <div>\r\n                <nav aria-label=\"breadcrumb\">\r\n                    <ol className=\"breadcrumb\">\r\n                        <li className=\"breadcrumb-item\"><Link to=\"/\">Home</Link></li>\r\n                        <li className=\"breadcrumb-item\"><Link to={`/decks/${deckId}`}>{deck.name}</Link></li>\r\n                        <li className=\"breadcrumb-item\"><p>Study</p></li>\r\n                    </ol>\r\n                </nav>\r\n\r\n                <h4>Not Enough cards.</h4>\r\n                <p>You need at least 3 cards to study. There are {cards.length} in this deck</p>\r\n                <Link to={`/decks/${deckId}/cards/new`} className=\"btn btn-primary\">Add Cards</Link>\r\n            </div>\r\n            \r\n        )\r\n\r\n    } else { \r\n\r\n        return (\r\n            <div>\r\n                <nav aria-label=\"breadcrumb\">\r\n                    <ol className=\"breadcrumb\">\r\n                        <li className=\"breadcrumb-item\"><Link to=\"/\">Home</Link></li>\r\n                        <li className=\"breadcrumb-item\"><Link to={`/decks/${deckId}`}>{deck.name}</Link></li>\r\n                        <li className=\"breadcrumb-item\"><p>Study</p></li>\r\n                    </ol>\r\n                </nav>\r\n                <h2>{`Study: ${deck.name}`}</h2>\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <h3>{`Card ${cardIndex + 1} of ${cards.length}`}</h3>\r\n                    </div>\r\n\r\n                    <div className=\"card-body\">\r\n                    <div>{!frontOrBack ? <p>{currentCard.front}</p> : <p>{currentCard.back}</p>}</div>\r\n\r\n\r\n                    <div className=\"row\">\r\n                        <button type=\"button\" className=\"btn btn-primary\" onClick={() => setFrontOrBack((current) => !current)}>Flip</button>\r\n                        <div>{frontOrBack ? <button type=\"button\" className=\"btn btn-secondary\" onClick={nextHandler}>Next</button> : <p></p>}</div>\r\n                    </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n}\r\n\r\n}\r\n\r\nexport default Study"],"mappings":"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"},"metadata":{},"sourceType":"module"}